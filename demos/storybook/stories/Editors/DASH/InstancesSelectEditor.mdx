import { Markdown, Stories, Story } from '@storybook/blocks'
import { CCallout } from '@coreui/react';
import * as InstanceSelect from './InstancesSelectEditor.stories';
import { Meta } from '@storybook/blocks'
import fetchDecoratorRaw from './InstancesSelectEditor/fetch.ts?raw'

# InstancesSelectEditor

Similarly to the [enum select](../?path=/docs/dash-enumselecteditor--docs#choice%20of%20iris),
an "instances selector" presents a dropdown, by default populated with instances of a given `sh:class` found in the shapes graph.

<CCallout color="info">
  [Hydra integration library](../?path=/docs/extensions-hydra--docs) can be used to extend the functionality of Instances Select editor so that instance data is dereferenced from external resources.
</CCallout>

<CCallout color="warning">
  Because both the matcher of `dash:InstancesSelectEditor` and `dash:DetailsEditor` return `null` for similar
  objects, it is advised to always explicitly set the `dash:editor`, or decorate the matchers.
</CCallout>

## Stories

<Meta of={InstanceSelect}/>

### Resources by sh:class

Just as with enum select, `rdfs:label` is used for option text

<Story of={InstanceSelect.Wikidata} />

### Resources without labels

If the Shapes Graph does not contain `rdfs:label` for the options, the editor can request
that the instance data can be fetched from the server and merged with the Shapes Graph.

To do that, the editor must be wrapped in a decorator that provides the instance data.

In the example below, such a decorator is presented which fetches instance data from Wikidata using its public SPARQL endpoint.

<Markdown>
  {`
  \`\`\`ts
${fetchDecoratorRaw}
  \`\`\`
  `}
</Markdown>

<Story of={InstanceSelect.WikidataNoLabels} />
